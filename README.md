# PSI Chat Bot v2.1

**PSI Chat Bot** ‚Äî —é–º–æ—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π Telegram-–±–æ—Ç, –≥–µ–Ω–µ—Ä–∏—Ä—É—é—â–∏–π —Å–ª—É—á–∞–π–Ω—ã–µ ¬´–∏–∑–º–µ—Ä–µ–Ω–∏—è¬ª (–í–µ—Å, ¬´–•—É–π¬ª, IQ, –†–æ—Å—Ç) —Å —ç–º–æ–¥–∑–∏ –∏ —Å–æ–∑–¥–∞—é—â–∏–π –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –∞–≤–∞—Ç–∞—Ä—ã —á–µ—Ä–µ–∑ Google Gemini API.

## üì¶ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

* **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏–π:**
  * –í–µ—Å (–∫–≥)
  * ¬´–•—É–π¬ª (—Å–º)
  * IQ
  * –†–æ—Å—Ç (—Å–º)

* **–§—É–Ω–∫—Ü–∏–∏:**
  * `/proof` ‚Äî –ø–æ–∏—Å–∫ –∏ –∞–Ω–∞–ª–∏–∑ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Google Search + Gemini AI
  * `/pizdica` ‚Äî –¥—É—ç–ª—å –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
  * Inline-—Ä–µ–∂–∏–º –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º
  * –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–∞ **6 —á–∞—Å–æ–≤** —Å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é
  * –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∞–≤–∞—Ç–∞—Ä–æ–≤ —á–µ—Ä–µ–∑ Gemini (—Å fallback –Ω–∞ PIL)

* **–î–≤–∞ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:**
  * **bot** ‚Äî Telegram-–±–æ—Ç (Python/aiogram)
  * **http** ‚Äî PHP-—Å–µ—Ä–≤–µ—Ä —Å SSL –¥–ª—è —Ö–æ—Å—Ç–∏–Ω–≥–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üîë –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ Telegram Token

1. –ù–∞–ø–∏—à–∏—Ç–µ [@BotFather](https://t.me/BotFather)
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/newbot`
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω

### 2. –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ `secrets/`:

```bash
mkdir -p secrets
echo -n "YOUR_TELEGRAM_TOKEN" > secrets/psi_chat_bot.txt
echo -n "YOUR_GEMINI_KEY" > secrets/GEMINI_API_KEY.txt
echo -n "YOUR_GOOGLE_KEY" > secrets/GOOGLE_API_KEY.txt    # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
echo -n "YOUR_CSE_ID" > secrets/GOOGLE_CSE_ID.txt         # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
```

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –§–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¢–û–õ–¨–ö–û —Ç–æ–∫–µ–Ω ‚Äî –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤, –∫–∞–≤—ã—á–µ–∫ –∏ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫!

### 3. Google API (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è /proof)

1. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ [Google Cloud Console](https://console.cloud.google.com/)
2. –í–∫–ª—é—á–∏—Ç–µ Custom Search API
3. –°–æ–∑–¥–∞–π—Ç–µ API Key
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–∏—Å–∫–æ–≤–∏–∫ –≤ [Programmable Search Engine](https://programmablesearchengine.google.com/)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/susnake/psi_cock_size_bot.git
cd psi_cock_size_bot

# –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã (—Å–º. –≤—ã—à–µ)

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ
docker-compose up -d --build

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
docker-compose logs -f
```

### –ì–æ—Ç–æ–≤—ã–µ –æ–±—Ä–∞–∑—ã

```bash
docker pull susnake/psi_cock_size_bot:latest
docker run -d --name psi-bot \
  --restart unless-stopped \
  -v psi-bot-data:/app/data \
  -e psi_chat_bot=YOUR_TOKEN \
  -e GEMINI_API_KEY=YOUR_KEY \
  susnake/psi_cock_size_bot:latest
```

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
cd bot
python -m venv .venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate
pip install -r requirements.txt
python psi_chat_bot.py
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
psi_cock_size_bot/
‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îú‚îÄ‚îÄ psi_chat_bot.py      # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –±–æ—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ http/                     # HTTP-—Å–µ—Ä–≤–µ—Ä (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îú‚îÄ‚îÄ entrypoint.sh
‚îÇ   ‚îî‚îÄ‚îÄ upload.php
‚îú‚îÄ‚îÄ secrets/                  # üîí –¢–æ–∫–µ–Ω—ã (–Ω–µ –≤ git!)
‚îÇ   ‚îú‚îÄ‚îÄ psi_chat_bot.txt
‚îÇ   ‚îú‚îÄ‚îÄ GEMINI_API_KEY.txt
‚îÇ   ‚îú‚îÄ‚îÄ GOOGLE_API_KEY.txt
‚îÇ   ‚îî‚îÄ‚îÄ GOOGLE_CSE_ID.txt
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ README.md
‚îî‚îÄ‚îÄ .gitignore
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

* `aiogram>=3.0.0` ‚Äî Telegram Bot API
* `aiohttp>=3.8.0` ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP-–∑–∞–ø—Ä–æ—Å—ã
* `Pillow>=9.0.0` ‚Äî —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
* `beautifulsoup4` + `lxml` ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

* –ó–Ω–∞—á–µ–Ω–∏—è –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫—ç—à–∏—Ä—É—é—Ç—Å—è –Ω–∞ 6 —á–∞—Å–æ–≤
* –ö—ç—à —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `/app/data/cache.json`
* –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –∫—ç—à –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è

### Rate Limiting

* Google Search API: 100 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å
* –°—á—ë—Ç—á–∏–∫ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `/app/data/api_usage.json`
* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±—Ä–æ—Å –≤ –ø–æ–ª–Ω–æ—á—å UTC

### Graceful Shutdown

* –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ SIGTERM/SIGINT
* –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫—ç—à–∞ –ø–µ—Ä–µ–¥ –æ—Å—Ç–∞–Ω–æ–≤–∫–æ–π

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

* –¢–æ–∫–µ–Ω—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Docker Secrets
* –ü–∞–ø–∫–∞ `secrets/` –≤ `.gitignore`
* SSL –¥–ª—è HTTP-—Å–µ—Ä–≤–µ—Ä–∞ —á–µ—Ä–µ–∑ Let's Encrypt

## ‚öñÔ∏è –õ–∏—Ü–µ–Ω–∑–∏—è

MIT ¬© susnake

---

*–°–ø–∞—Å–∏–±–æ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ!*
